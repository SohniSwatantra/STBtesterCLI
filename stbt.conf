# STB Tester Configuration
# This file configures stbt-run and related tools.
# Documentation: https://stb-tester.com/manual/stbt.conf

[global]
# Video source: Capture card, network stream, or test source
# Examples:
#   v4l2src device=/dev/video0 ! video/x-raw,width=1920,height=1080
#   rtspsrc location=rtsp://192.168.1.100:554/stream ! rtph264depay ! avdec_h264
#   videotestsrc is-live=true ! video/x-raw,format=BGR,width=1920,height=1080
source_pipeline = videotestsrc is-live=true ! video/x-raw,format=BGR,width=1920,height=1080

# Video sink: Where to display video (empty = no display)
sink_pipeline =

# Remote control backend
# Options: lirc, irnetbox, samsung, roku, test, none
# For LIRC: control = lirc:/var/run/lirc/lircd:YOUR_REMOTE_NAME
# For network IR: control = irnetbox:192.168.1.50:output1
control = test

# Enable verbose logging (0=quiet, 1=normal, 2=debug)
verbose = 1

# Power outlet control (optional)
# Examples: none, ipp:192.168.1.100:1, pdu:192.168.1.50:outlet1
power_outlet = none

[match]
# Image matching configuration
match_method = sqdiff
match_threshold = 0.98
confirm_method = normed-absdiff
confirm_threshold = 0.70
erode_passes = 1
pyramid_levels = 3

[ocr]
# OCR (text recognition) configuration
engine = TESSERACT
lang = eng
text_color_threshold = 25

[press]
# Delay between key presses (seconds)
interpress_delay_secs = 0.3

[press_until_match]
# Settings for press_until_match function
interval_secs = 1
max_presses = 10

[motion]
# Motion detection sensitivity
noise_threshold = 25
consecutive_frames = 10/20

[is_screen_black]
# Black screen detection threshold
threshold = 10

[run]
# Video recording options
# Leave empty to disable, or specify path pattern
save_video =

# Test artifacts directory
# artifacts_dir = /path/to/artifacts
